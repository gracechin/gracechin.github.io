<script>
    const DARK = "dark"
    const LIGHT = "light"
    const lightSwitch = document.getElementById('light-switch');
    const appRoot = document.getElementById('app-root');
    const currTheme = localStorage.getItem('theme')

    const changeToDarkMode = () => {
      if (lightSwitch) {
        lightSwitch.checked = false
      }
      appRoot.classList.add("theme-dark");
      appRoot.classList.remove("theme-light");
      localStorage.setItem("theme", DARK)
    }

    const changeToLightMode = () => {
      if (lightSwitch) {
        lightSwitch.checked = true
      }
      appRoot.classList.add("theme-light");
      appRoot.classList.remove("theme-dark");
      localStorage.setItem("theme", LIGHT)
    }

    if (currTheme === DARK) {
      changeToDarkMode()
    } else {
      changeToLightMode()
    }
    
    lightSwitch.addEventListener("change", (event) => {
      if (lightSwitch.checked) {
        changeToLightMode()
      } else {
        changeToDarkMode()
      }
    });
  </script>