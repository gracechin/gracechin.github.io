<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Grace Space</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/styles/base.css" />

    <!-- Syntax highlighting theme -->
    <link
      href="https://unpkg.com/prismjs@1.20.0/themes/prism-solarizedlight.css"
      rel="stylesheet"
    />

    <!-- Preload me images for About page -->
    
    <link
      rel="preload"
      href="../assets/about/me-1.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="../assets/about/me-2.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="../assets/about/me-3.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="../assets/about/me-4.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="../assets/about/me-5.svg"
      as="image"
      type="image/svg+xml"
    /></head>
  <body>
    <div class="wrapper">
      <header>
        <nav>
          <ul>
            <li><a href="/about">About</a></li>
            <li class="nav-brand"><a href="/">Grace Space</a></li>
            <li><a href="/feed.xml">RSS</a></li>
          </ul>
        </nav>
      </header>
      <main>

<div class="post">
  <article>
    <header>
      <h1>Micro:bit - Don&#39;t Drop The Ball</h1>
      <span>Aug 11, 2023</span>
    </header>
    <div><p>A little game I made using a Micro:bit üïπÔ∏èüëæ</p>
<p>Recently, I have become fascinated with the <a href="https://microbit.org/">BBC micro:bit</a>. It has been described as a &quot;pocket-sized computer&quot; and is much like a beginner-friendly Raspberry Pi or Arduino. Micro:bit is designed by the BBC to educate people on how computers work and to inspire children to engage in digital creation.</p>
<blockquote>
<p>The Micro:bit Educational Foundation is a not-for-profit organisation that aims to inspire every child to create their best digital future. - <a href="https://microbit.org/"><em>Micro:bit</em></a></p>
</blockquote>
<p>Given my recent interest in this electronic, I was pleasantly surprised to find that my sister-in-law's boyfriend had a Micro:bit ‚ú®, which he ordered during COVID lockdown, for me to borrow and play around with üïπÔ∏è. With that, I thought I would try and make a little game üëæ.</p>
<p><img src="/assets/2023-08-11/microbit.jpeg" alt="Micro:bit Starter Kit"></p>
<figcaption>Micro:bit Starter Kit</figcaption>
<h1>What did I use?</h1>
<p>The Micro:bit can be programmed using (1) Microsoft's <a href="https://makecode.microbit.org/">MakeCode editor</a>, which allows programming using colourful blocks like in <a href="https://scratch.mit.edu/">Scratch</a>, or (2) their own <a href="https://python.microbit.org/v/3">Python editor</a>, which is also known as <a href="https://microbit-micropython.readthedocs.io/en/v2-docs/"><em>MicroPython</em></a>.</p>
<p>Since I am already familiar with text-based programming and Python, I opted for MicroPython. The editor is user-friendly, accompanied by easily accessible documentation and drag-and-drop code snippets. I especially like how there is a simulator of the Micro:bit on the side which quickens the development process.</p>
<h1>What game did I make?</h1>
<p>I decided to create a game that makes use of the accelerometers in the Micro:bit. The goal of the game is to keep the &quot;ball&quot; on the board and prevent it from falling off. As the player tilts the board, the ball rolls across the board. To add difficulty, the ball speeds up as you level-up.</p>
<h1>My source code</h1>
<p>Below is a copy of the source code.</p>
<pre class="language-python"><code class="language-python"><span class="token comment"># Imports go at the top</span>
<span class="token keyword">from</span> microbit <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> time

DIRECTION <span class="token operator">=</span> <span class="token string">'direction'</span>
MAGNITUDE <span class="token operator">=</span> <span class="token string">'magnitude'</span>
DOWN <span class="token operator">=</span> <span class="token string">'DOWN'</span>
RIGHT <span class="token operator">=</span> <span class="token string">'RIGHT'</span>
LEFT <span class="token operator">=</span> <span class="token string">'LEFT'</span>
UP <span class="token operator">=</span> <span class="token string">'UP'</span>

GRAVITY_MODE <span class="token operator">=</span> <span class="token punctuation">{</span>
    DOWN<span class="token punctuation">:</span> <span class="token punctuation">{</span>DIRECTION<span class="token punctuation">:</span> <span class="token string">'y'</span><span class="token punctuation">,</span> MAGNITUDE<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    RIGHT<span class="token punctuation">:</span> <span class="token punctuation">{</span>DIRECTION<span class="token punctuation">:</span> <span class="token string">'x'</span><span class="token punctuation">,</span> MAGNITUDE<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    UP<span class="token punctuation">:</span> <span class="token punctuation">{</span>DIRECTION<span class="token punctuation">:</span> <span class="token string">'y'</span><span class="token punctuation">,</span> MAGNITUDE<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    LEFT<span class="token punctuation">:</span> <span class="token punctuation">{</span>DIRECTION<span class="token punctuation">:</span> <span class="token string">'x'</span><span class="token punctuation">,</span> MAGNITUDE<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
ANTICLOCKWISE_GRAVITY_CHANGE <span class="token operator">=</span> <span class="token punctuation">{</span>
    DOWN <span class="token punctuation">:</span> RIGHT<span class="token punctuation">,</span>
    RIGHT <span class="token punctuation">:</span> UP<span class="token punctuation">,</span>
    UP <span class="token punctuation">:</span> LEFT<span class="token punctuation">,</span>
    LEFT <span class="token punctuation">:</span> DOWN
<span class="token punctuation">}</span>
CLOCKWISE_GRAVITY_CHANGE <span class="token operator">=</span> <span class="token punctuation">{</span>
    DOWN <span class="token punctuation">:</span> LEFT<span class="token punctuation">,</span>
    RIGHT <span class="token punctuation">:</span> DOWN<span class="token punctuation">,</span>
    UP <span class="token punctuation">:</span> RIGHT<span class="token punctuation">,</span>
    LEFT <span class="token punctuation">:</span> UP
<span class="token punctuation">}</span>
LEVELS_TO_MS <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment"># millisecs per frame for each level</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">:</span> <span class="token number">150</span>
<span class="token punctuation">}</span>
MAX_LEVEL <span class="token operator">=</span> <span class="token number">5</span>
<span class="token comment"># States</span>
WON <span class="token operator">=</span> <span class="token string">'WON'</span>
PLAY <span class="token operator">=</span> <span class="token string">'PLAY'</span>
IDLE <span class="token operator">=</span> <span class="token string">'IDLE'</span>

FILLED_VALUE <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
MAX_VALID_VALUE <span class="token operator">=</span> <span class="token number">4</span>
MIN_VALID_VALUE <span class="token operator">=</span> <span class="token number">0</span>
TILT_THRESHOLD <span class="token operator">=</span> <span class="token number">500</span>
COUNT_PER_LEVEL <span class="token operator">=</span> <span class="token number">15</span>

<span class="token keyword">def</span> <span class="token function">isPointValid</span><span class="token punctuation">(</span>pt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> pt<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span>
    y <span class="token operator">=</span> pt<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        x <span class="token operator">&lt;=</span> MAX_VALID_VALUE <span class="token keyword">and</span> x <span class="token operator">>=</span> MIN_VALID_VALUE <span class="token keyword">and</span>
        y <span class="token operator">&lt;=</span> MAX_VALID_VALUE <span class="token keyword">and</span> y <span class="token operator">>=</span> MIN_VALID_VALUE
    <span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">loopDisplay</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span>
        display<span class="token punctuation">.</span>show<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">countDown</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span>
    loopDisplay<span class="token punctuation">(</span><span class="token punctuation">[</span>Image<span class="token punctuation">.</span>HAPPY<span class="token punctuation">,</span> <span class="token string">"LEVEL "</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Intitalise</span>
point <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># coordinate of the ball</span>
gravity_key <span class="token operator">=</span> <span class="token string">'DOWN'</span>
counter <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment"># to see how much "time" has passed for leveling up!</span>
level <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment"># initial level</span>
state <span class="token operator">=</span> PLAY
countDown<span class="token punctuation">(</span>level<span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> isPointValid<span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token keyword">and</span> state <span class="token operator">==</span> PLAY<span class="token punctuation">:</span>
        display<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
        display<span class="token punctuation">.</span>set_pixel<span class="token punctuation">(</span>point<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>point<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>FILLED_VALUE<span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep_ms<span class="token punctuation">(</span>LEVELS_TO_MS<span class="token punctuation">[</span>level<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> counter <span class="token operator">==</span> COUNT_PER_LEVEL<span class="token punctuation">:</span>
            <span class="token keyword">if</span> level <span class="token operator">&lt;</span> MAX_LEVEL<span class="token punctuation">:</span>
                level <span class="token operator">=</span> level <span class="token operator">+</span> <span class="token number">1</span>
                point <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
                gravity_key <span class="token operator">=</span> <span class="token string">'DOWN'</span>
                counter <span class="token operator">=</span> <span class="token number">0</span>
                countDown<span class="token punctuation">(</span>level<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                state <span class="token operator">=</span> WON

        <span class="token comment"># Tilt to control ball</span>
        x_strength <span class="token operator">=</span> accelerometer<span class="token punctuation">.</span>get_x<span class="token punctuation">(</span><span class="token punctuation">)</span>
        y_strength <span class="token operator">=</span> accelerometer<span class="token punctuation">.</span>get_y<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>x_strength<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>y_strength<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> x_strength <span class="token operator">>=</span> TILT_THRESHOLD<span class="token punctuation">:</span>
                gravity_key <span class="token operator">=</span> RIGHT
            <span class="token keyword">if</span> x_strength <span class="token operator">&lt;=</span> <span class="token operator">-</span>TILT_THRESHOLD<span class="token punctuation">:</span>
                gravity_key <span class="token operator">=</span> LEFT
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> y_strength <span class="token operator">>=</span> TILT_THRESHOLD<span class="token punctuation">:</span>
                gravity_key <span class="token operator">=</span> DOWN
            <span class="token keyword">if</span> y_strength <span class="token operator">&lt;=</span> <span class="token operator">-</span>TILT_THRESHOLD<span class="token punctuation">:</span>
                gravity_key <span class="token operator">=</span> UP

        <span class="token comment"># Press buttons to control ball</span>
        <span class="token keyword">if</span> button_b<span class="token punctuation">.</span>was_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            gravity_key <span class="token operator">=</span> ANTICLOCKWISE_GRAVITY_CHANGE<span class="token punctuation">[</span>gravity_key<span class="token punctuation">]</span>

        <span class="token keyword">if</span> button_a<span class="token punctuation">.</span>was_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            gravity_key <span class="token operator">=</span> CLOCKWISE_GRAVITY_CHANGE<span class="token punctuation">[</span>gravity_key<span class="token punctuation">]</span>

        <span class="token comment"># Update gravity</span>
        gravity <span class="token operator">=</span> GRAVITY_MODE<span class="token punctuation">[</span>gravity_key<span class="token punctuation">]</span>
        point<span class="token punctuation">[</span>gravity<span class="token punctuation">[</span>DIRECTION<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> point<span class="token punctuation">[</span>gravity<span class="token punctuation">[</span>DIRECTION<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> gravity<span class="token punctuation">[</span>MAGNITUDE<span class="token punctuation">]</span>

        <span class="token comment"># Increment counter</span>
        counter <span class="token operator">=</span> counter <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># When the player has lost</span>
        loopDisplay<span class="token punctuation">(</span><span class="token punctuation">[</span>Image<span class="token punctuation">.</span>SAD<span class="token punctuation">]</span><span class="token punctuation">)</span>
        state <span class="token operator">==</span> IDLE

    <span class="token comment"># When the player has won</span>
    <span class="token keyword">if</span> state <span class="token operator">==</span> WON<span class="token punctuation">:</span>
        loopDisplay<span class="token punctuation">(</span><span class="token punctuation">[</span>Image<span class="token punctuation">.</span>HAPPY<span class="token punctuation">,</span> <span class="token string">'YOU WON!'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        state <span class="token operator">=</span> IDLE

    <span class="token comment"># Waiting for the player to be ready to restart game</span>
    <span class="token keyword">if</span> state <span class="token operator">==</span> IDLE <span class="token keyword">or</span> button_b<span class="token punctuation">.</span>was_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">or</span> button_a<span class="token punctuation">.</span>was_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        point <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
        gravity_key <span class="token operator">=</span> <span class="token string">'DOWN'</span>
        counter <span class="token operator">=</span> <span class="token number">0</span>
        level <span class="token operator">=</span> <span class="token number">1</span>
        state <span class="token operator">=</span> PLAY</code></pre>
<h1>The Result</h1>
<p>Creating and playing the game was incredibly enjoyable :D</p>
<div class="video-container">
<iframe src="https://www.youtube.com/embed/J7zYmJxGVPk?modestbranding=1&showinfo=0&fs=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
</div>
<p>Overall, I'm quite impressed with what you can do with Micro:bit! I would recommend it to people who want to learn how to code and create something fun!</p>
</div>
    <p>
      <span>
        
        <a href="/tags/posts">#posts</a>
        
        <a href="/tags/projects">#projects</a>
        
        <a href="/tags/dev">#dev</a>
        
        <a href="/tags/Python">#Python</a>
        
      </span>
    </p>
  </article>
  <hr />
  <nav>
    <div class="col left">
      
      <div>‚Üê Older</div>
      <a href="/posts/2023-08-09-RSS-feed/">Adding An RSS Feed</a>
    </div>
    <div class="col right">
      
    </div>
  </nav>
</div>
</main>
      <footer>
        <span class="email">gracechinhy@gmail.com</span>
        <a href="https://github.com/gracechin"
          ><span class="github-icon"></span
        ></a>
        <a href="https://www.linkedin.com/in/gracehychin/"
          ><span class="linkedin-icon"></span
        ></a>
      </footer>
    </div>
  </body>
</html>
